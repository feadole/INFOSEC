---
## Front matter
title: "Отчёта по лабораторной работе № 3"
subtitle: "Информационная безопасность"
author: "Адоле Фейт Эне"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

## Цель работы

Получение практических навыков работы в консоли с атрибутами файлов для
групп пользователей. 

## Теоретическое введение

В операционной системе Linux есть много отличных функций безопасности, но
одна из самых важных - это система прав доступа к файлам. Изначально каждый
файл имел три параметра доступа. Вот они:
• Чтение - разрешает получать содержимое файла, но на запись нет. Для
каталога позволяет получить список файлов и каталогов, расположенных в
нем
• Запись - разрешает записывать новые данные в файл или изменять существующие, а также позволяет создавать и изменять файлы и каталоги
• Выполнение - невозможно выполнить программу, если у нее нет флага
выполнения. Этот атрибут устанавливается для всех программ и скриптов, именно с помощью него система может понять, что этот файл нужно
запускать как программу
Каждый файл имеет три категории пользователей, для которых можно устанавливать различные сочетания прав доступа:
• Владелец - набор прав для владельца файла, пользователя, который его
создал или сейчас установлен его владельцем. Обычно владелец имеет все
права, чтение, запись и выполнение
• Группа - любая группа пользователей, существующая в системе и привязанная к файлу. Но это может быть только одна группа и обычно это группа
владельца, хотя для файла можно назначить и другую группу
• Остальные - все пользователи, кроме владельца и пользователей, входящих
в группу файла
Команды, которые могут понадобиться при работе с правами доступа:
• “ls -l” - для просмотра прав доступа к файлам и каталогам
• “chmod категория действие флаг файл или каталог” - для изменения прав
доступа к файлам и каталогам (категорию действие и флаг можно заменить
на набор из трех цифр от 0 до 7)
Значения флагов прав:
• — - нет никаких прав
• –x - разрешено только выполнение файла, как программы, но не изменение
и не чтение
• -w- - разрешена только запись и изменение файла
• -wx - разрешено изменение и выполнение, но в случае с каталогом, невозможно посмотреть его содержимое
• r– - права только на чтение
• r-x - только чтение и выполнение, без права на запись
• rw- - права на чтение и запись, но без выполнения
• rwx - все права

## Выполнение лабораторной работы

В установленной при выполнении предыдущей лабораторной работы ОС создала учётную запись пользователя guest2 (т.к. пользователь guest уже был создан
в прошлой лабораторной работе) с помощью команды “sudo useradd guest2” и
задала пароль для этого пользователя командой “sudo passwd guest2”. Добавила
пользователя guest2 в группу guest с помощью команды “sudo gpasswd -a guest2
guest” (рис. 3.1).

![Рис. 3.1: Создание пользователя и добавление его в группу](image/lab3.1.png)

Затем осуществила вход в систему от двух пользователей на двух разных консолях  при помощи команд “su - guest” и “su - guest2”. Определила командой “pwd”,
что оба пользователя находятся в своих домашних директориях, что совпадает с
приглашениями командной строки. Уточнила имена пользователей командой
“whoami”, соответственно получила: guest и guest2. С помощью команд “groups
guest” и “groups guest2” определила, что пользователь guest входит в группу guest,
а пользователь guest2 в группы guest и guest2. Сравнила полученную информацию с выводом команд “id -Gn guest”, “id -Gn guest2”, “id -G guest” и “id -G guest2”:
данные совпали, за исключением второй команды “id -G”, которая вывела номера
групп 1001 и 1002, что также является верным (рис. 3.2). 

![Рис. 3.2: Проверка, в какие группы входят пользователи](image/lab3.2.png)

Просмотрела файл /etc/group командой “cat /etc/group”, данные этого файла
совпадают с полученными ранее (рис. 3.3).

![Рис. 3.3: Просмотр файла /etc/group](image/lab3.31.png)

![Рис. 3.3: Просмотр файла /etc/group](image/lab3.32.png)

От имени пользователя guest2 зарегистрировала этого пользователя в группе
guest командой “newgrp guest”. Далее от имени пользователя guest изменила
права директории /home/guest, разрешив все действия для пользователей группы
командой “chmod g+rwx /home/guest”. От имени этого же пользователя сняла с директории /home/guest/dir1 все атрибуты командой “chmod 000 dir1” и проверила
правильность снятия атрибутов командой “ls -l” (рис. 3.4).

![Рис. 3.4: Изменение атрибутов](image/lab3.4.png)

Теперь заполним таблицу «Установленные права и разрешённые действия»
3.1, меняя атрибуты у директории и файла от имени пользователя guest и делая
проверку от пользователя guest2.
Создание файла: “echo”text” > /home/guest/dir1/file2”
Удаление файла: “rm -r /home/guest/dir1/file1”
Запись в файл: “echo”textnew” > /home/guest/dir1/file1”
Чтение файла: “cat /home/guest/dir1/file1”
Смена директории: “cd /home/guest/dir1”
Просмотр файлов в директории: “ls /home/guest/dir1”
Переименование файла: “mv /home/guest/dir1/file1 filenew”
Смена атрибутов файла: “chattr -a /home/guest/dir1/file1”

\begin{table} \caption{Установление права и разрешённых действий}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|} \hline Права директории & 000 & 100 & 200 & 300 & 400 & 500 & 600 & 700 \\ \hline
Права файла & 000 & 100 & 200 & 300 & 400 & 500 & 600 & 700 \\ \hline
Создание файла & - & - & - & + & - & - & - & + \\ \hline
Удаление файла & - & - & - & + & - & - &  & + \\ \hline
Запись в файл & - & + & - & + & - & + & - & + \\ \hline
Чтение файла & - & + & - & + & - & + & - & + \\ \hline
Смена директории & - & - & - & + & - & + & - & + \\ \hline
Просмотр файлов в директории & - & - & - & - & + & + & + & + \\ \hline
Переименнование файла & - & - & - & + & - & - & - & + \\ \hline
Смена атрибутов файла & - & - & - & + & - & - & - & + \\ \hline
\end{tabular}
\end{table}

## Выводы

В ходе выполнения данной лабораторной работы я получила практические
навыки работы в консоли с атрибутами файлов для групп пользователей.

## Список литературы

Права доступа к файлам в Linux [Электронный ресурс]. 2019. URL: https:
//losst.ru/prava-dostupa-k-fajlam-v-linux.